(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,24548,t=>{"use strict";var e=t.i(70839),r=t.i(67839);let i=(0,r.createContext)(void 0);t.s(["CartProvider",0,({children:t})=>{let[a,o]=(0,r.useState)([]),[u,n]=(0,r.useState)(!1);(0,r.useEffect)(()=>{{let t=localStorage.getItem("flowerShopCart");if(t)try{o(JSON.parse(t))}catch(t){console.error("Chyba při načítání košíku:",t)}}},[]),(0,r.useEffect)(()=>{localStorage.setItem("flowerShopCart",JSON.stringify(a))},[a]);let d=a.reduce((t,e)=>t+e.price*e.quantity,0),l=a.reduce((t,e)=>t+e.quantity,0);return(0,e.jsx)(i.Provider,{value:{cartItems:a,addToCart:t=>{o(e=>e.find(e=>e.id===t.id)?e.map(e=>e.id===t.id?{...e,quantity:e.quantity+1}:e):[...e,{...t,quantity:1}]),n(!0)},removeFromCart:t=>{o(e=>e.filter(e=>e.id!==t))},updateQuantity:(t,e)=>{o(r=>r.map(r=>{if(r.id===t){let t=r.quantity+e;return{...r,quantity:t>0?t:1}}return r}))},clearCart:()=>{o([])},cartTotal:d,cartCount:l,isCartOpen:u,setIsCartOpen:n},children:t})},"useCart",0,()=>{let t=(0,r.useContext)(i);if(void 0===t)throw Error("useCart musí být použit uvnitř CartProvider");return t}])}]);